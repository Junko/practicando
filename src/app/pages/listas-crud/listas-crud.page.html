<ion-menu side="start" menuId="admin-menu">
  <ion-header>
    <ion-toolbar style="--background: rgba(255, 197, 1); --color: rgba(27, 18, 19);">
      <ion-title>Menú Admin</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-content>
    <ion-list>
      <ion-item button routerLink="/admin/inicio" routerDirection="root">
        <ion-icon name="home-outline" slot="start"></ion-icon>
        <ion-label>Inicio</ion-label>
      </ion-item>
      
      <ion-item button routerLink="/usuarios-crud" routerDirection="root">
        <ion-icon name="people-outline" slot="start"></ion-icon>
        <ion-label>Gestionar Usuarios</ion-label>
      </ion-item>
      
      <ion-item button routerLink="/listas-crud" routerDirection="root">
        <ion-icon name="list-outline" slot="start"></ion-icon>
        <ion-label>Gestionar Listas</ion-label>
      </ion-item>
      
      <ion-item button routerLink="/salones-crud" routerDirection="root">
        <ion-icon name="business-outline" slot="start"></ion-icon>
        <ion-label>Gestionar Salones</ion-label>
      </ion-item>
      
      <ion-item button routerLink="/listas-cumplidas" routerDirection="root">
        <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
        <ion-label>Listas Cumplidas</ion-label>
      </ion-item>
      
      <ion-item button routerLink="/evaluar-salones" routerDirection="root">
        <ion-icon name="clipboard-outline" slot="start"></ion-icon>
        <ion-label>Evaluar Salones</ion-label>
      </ion-item>
      
      <ion-item button routerLink="/resumen-evaluacion" routerDirection="root">
        <ion-icon name="analytics-outline" slot="start"></ion-icon>
        <ion-label>Resumen Evaluación</ion-label>
      </ion-item>
      
      <ion-item button routerLink="/admin/perfil" routerDirection="root">
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-label>Mi Perfil</ion-label>
      </ion-item>
      
      <ion-item button (click)="signOut()">
        <ion-icon name="log-out-outline" slot="start"></ion-icon>
        <ion-label>Cerrar Sesión</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<app-header title="Gestión de Listas" menuId="admin-menu"></app-header>

<ion-content [fullscreen]="true" class="listas-crud-content" id="admin-content">

  <div class="content-container">
    <h2 class="page-title">Listas de Útiles</h2>
    <p class="page-subtitle">Gestiona las listas de útiles escolares</p>

    <!-- Lista de listas existentes -->
    <div class="lists-container">
      <ion-card *ngFor="let lista of listas" class="lista-card">
        <ion-card-header>
          <ion-card-title>{{ lista.name }}</ion-card-title>
          <ion-card-subtitle>{{ lista.nivel }} - {{ lista.grado }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <p><strong>Año:</strong> {{ lista.anio }}</p>
          <p><strong>Materiales:</strong> {{ lista.materiales?.length || 0 }} items</p>
        </ion-card-content>
        <ion-card-content>
          <ion-button fill="outline" size="small" (click)="editLista(lista)">
            <ion-icon name="create" slot="start"></ion-icon>
            Editar
          </ion-button>
          <ion-button fill="outline" color="danger" size="small" (click)="deleteLista(lista)">
            <ion-icon name="trash" slot="start"></ion-icon>
            Eliminar
          </ion-button>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Mensaje cuando no hay listas -->
    <div *ngIf="listas.length === 0" class="empty-state">
      <ion-icon name="list" size="large" color="medium"></ion-icon>
      <h3>No hay listas creadas</h3>
      <p>Crea tu primera lista de útiles escolares</p>
      <ion-button (click)="navigateToCreate()" fill="solid" color="primary">
        <ion-icon name="add" slot="start"></ion-icon>
        Crear Lista
      </ion-button>
    </div>
  </div>

</ion-content>

<!-- Componente de tabs personalizado para admin -->
<app-custom-tabs [config]="tabsConfig"></app-custom-tabs>